@using FSH.Starter.Blazor.OS.Interfaces
<!-- DesktopShell.razor -->
<div class="desktop">
    <Taskbar OpenApps="@ActiveApps" OnAppClick="LaunchApp" />
    
    @foreach (var app in ActiveApps)
    {
        <WindowComponent Title="@app.Title" OnClose="() => CloseApp(app)">
            <DynamicComponent Type="@app.App.AppTypeClass" />
        </WindowComponent>
    }
</div>

@code {
  List<IAppInstance<ComponentBase>> ActiveApps = new();
    void LaunchApp(Type appType) { /* Add to ActiveApps */ }
  void CloseApp(IAppInstance<ComponentBase> app) { /* Remove from ActiveApps */ }
}
