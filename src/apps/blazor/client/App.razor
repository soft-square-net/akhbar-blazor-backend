@using System.Reflection
@using MudBlazor;
<CascadingAuthenticationState>
  <MudList T="string">
    @foreach (var item in additionalAssemblies.Select(a => a.FullName).ToList())
    {
      <MudListItem>
        <MudText Typo="Typo.h6" Class="pa-4" Text="">@item</MudText>
      </MudListItem>
    }
  </MudList>
  <Router AppAssembly="@typeof(Program).Assembly" 
          AdditionalAssemblies="@additionalAssemblies">
          @* OnNavigateAsync="OnNavigateAsync"  *@
    <Found Context="routeData">
      <AuthorizeRouteView RouteData="@routeData"
                          DefaultLayout="@typeof(BaseLayout)">
        <NotAuthorized>
          @if (@context.User.Identity?.IsAuthenticated is true)
          {
            <p>You are not authorized to be here.</p>
          }
          else
          {
            <Login />
          }
        </NotAuthorized>
      </AuthorizeRouteView>
    </Found>
    <NotFound>
      <LayoutView Layout="@typeof(NotFound)">
        <NotFound />
      </LayoutView>
    </NotFound>
  </Router>
</CascadingAuthenticationState>

